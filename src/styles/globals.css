/* Minimal globals.css — reset to basics + spotlight overlay
   - Keeps Tailwind import as requested.
   - Plain, neutral background with optional spotlight overlay.
   - Safe defaults: reduced-motion respected, mobile-friendly.
*/

/* Tailwind import (kept as requested) */
@import "tailwindcss";

/* ---------- Base resets ---------- */
html,
body {
  margin: 0;
  padding: 0;
  min-height: 100%;
  overflow-y: auto;
  /* allow natural scrolling */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Typography + simple theme-safe backgrounds (Tailwind utility applied) */
body {
  @apply bg-white text-black;
}

html.dark body {
  @apply bg-gray-950 text-gray-100;
}

/* Media defaults */
img,
svg,
video,
canvas,
audio,
iframe {
  display: block;
  max-width: 100%;
  height: auto;
}

/* Links - subtle underline affordance */
a {
  @apply underline-offset-4 decoration-transparent transition;
}

a:hover {
  @apply decoration-current;
}

/* Focus-visible for keyboard users */
:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* Respect user motion preferences */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

/* ---------- Neutral ambient edge/corner glow (grayscale) ---------- */

/* tuning vars — change alphas/sizes below to taste */
:root {
  --bg-fallback: Canvas;
  --ambient-corner-alpha: 0.06;
  /* corner wash strength (white-ish) */
  --ambient-edge-alpha: 0.03;
  /* side/edge wrap */
  --vignette-alpha: 0.04;
  /* bottom vignette to add depth */
  --ambient-large: 60vmax;
  /* size for corner washes */
  --ambient-med: 40vmax;
  /* medium size */
  --spot-opacity: 0.9;
  --mx: 50%;
  --my: 30%;
  --spot-size: 600px;
  --spot-blur: 10px;
}

/* Neutral, soft ambient glow (no color) */
.bg-shell {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -2;

  background:
    /* subtle soft white-ish corner washes (creates 'lit' edges without color) */ radial-gradient(
      var(--ambient-large) var(--ambient-med) at 6% 8%,
      rgba(255, 255, 255, var(--ambient-corner-alpha)),
      transparent 35%
    ),
    radial-gradient(
      var(--ambient-large) var(--ambient-med) at 94% 8%,
      rgba(255, 255, 255, var(--ambient-corner-alpha)),
      transparent 35%
    ),
    radial-gradient(
      var(--ambient-large) var(--ambient-med) at 6% 92%,
      rgba(255, 255, 255, calc(var(--ambient-corner-alpha) * 0.8)),
      transparent 35%
    ),
    radial-gradient(
      var(--ambient-large) var(--ambient-med) at 94% 92%,
      rgba(255, 255, 255, calc(var(--ambient-corner-alpha) * 0.8)),
      transparent 35%
    ),
    /* faint side bands to wrap edges */
      radial-gradient(
        36vmax 26vmax at 2% 50%,
        rgba(255, 255, 255, var(--ambient-edge-alpha)),
        transparent 40%
      ),
    radial-gradient(
      36vmax 26vmax at 98% 50%,
      rgba(255, 255, 255, var(--ambient-edge-alpha)),
      transparent 40%
    ),
    /* soft central wash so the hero doesn't sit on pure black */
      radial-gradient(
        70vmax 44vmax at 50% 45%,
        rgba(255, 255, 255, 0.02),
        transparent 45%
      ),
    /* subtle bottom vignette (keeps text readable by darkening lower edge) */
      radial-gradient(
        1200px 600px at 50% 120%,
        rgba(0, 0, 0, var(--vignette-alpha)),
        transparent 40%
      ),
    /* fallback */ var(--bg-fallback);
  background-repeat: no-repeat;
  background-attachment: scroll;
  /* safe on mobile */
  will-change: opacity;
  overflow: visible;
}

/* Dark mode: reduce white intensity and keep subtle vignette so contrast stays good */
html.dark .bg-shell {
  background: radial-gradient(
      var(--ambient-large) var(--ambient-med) at 6% 8%,
      rgba(255, 255, 255, calc(var(--ambient-corner-alpha) * 0.45)),
      transparent 35%
    ),
    radial-gradient(
      var(--ambient-large) var(--ambient-med) at 94% 8%,
      rgba(255, 255, 255, calc(var(--ambient-corner-alpha) * 0.45)),
      transparent 35%
    ),
    radial-gradient(
      70vmax 44vmax at 50% 45%,
      rgba(255, 255, 255, 0.01),
      transparent 45%
    ),
    radial-gradient(
      1200px 600px at 50% 120%,
      rgba(0, 0, 0, 0.06),
      transparent 40%
    ),
    var(--bg-fallback);
}

.spotlight {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  mix-blend-mode: screen;
  opacity: var(--spot-opacity);
  transition: opacity 220ms ease;

  /* compensate blur growth by using a slightly smaller radius (480px instead of 520px) */
  filter: blur(var(--spot-blur));
  background: radial-gradient(
    480px 480px at var(--mx, 50%) var(--my, 30%),
    rgba(255, 255, 255, 0.2),
    rgba(255, 255, 255, 0) 60%
  );
  background-repeat: no-repeat;
}

html.dark .spotlight {
  opacity: calc(var(--spot-opacity) * 0.6);
  filter: blur(var(--spot-blur));
  background: radial-gradient(
    480px 480px at var(--mx, 50%) var(--my, 30%),
    rgba(255, 255, 255, 0.14),
    rgba(255, 255, 255, 0) 60%
  );
  background-repeat: no-repeat;
}

/* reduced-motion: static and lower opacity */
@media (prefers-reduced-motion: reduce) {
  .spotlight {
    transition: none;
    opacity: 0.25;
  }
}

/* Animated underline utility (no reflow) */
.link-underline {
  background: linear-gradient(currentColor, currentColor) 0 100% / 0 2px
    no-repeat;
  transition: background-size 0.26s cubic-bezier(0.2, 0.9, 0.2, 1),
    color 0.18s ease;
  text-decoration: none;
}
.link-underline:hover,
.link-underline:focus {
  background-size: 100% 2px;
  outline: none;
}
.link-underline:focus-visible {
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.12);
  border-radius: 2px;
}
.link-underline-sm {
  background: linear-gradient(currentColor, currentColor) 0 100% / 0 1.5px
    no-repeat;
  transition: background-size 0.22s ease;
}
@media (prefers-reduced-motion: reduce) {
  .link-underline,
  .link-underline-sm {
    transition: none;
  }
}

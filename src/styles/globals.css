/* Minimal globals.css â€” reset to basics + spotlight overlay + radial gradient background
   - Keeps Tailwind import as requested.
   - Dark center to light edges radial gradient background.
   - Safe defaults: reduced-motion respected, mobile-friendly.
*/

/* Tailwind import (kept as requested) */
@import "tailwindcss";

/* Tailwind v4 source paths */
@source "../../src";
@source "../../app";

/* ---------- Base resets ---------- */
html,
body {
  margin: 0;
  padding: 0;
  min-height: 100%;
  overflow-y: auto;
  /* allow natural scrolling */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Typography + radial gradient backgrounds */

/* Define CSS variables for colors */
:root {
  --color-background: #0a0a0a;
  --color-foreground: #ffffff;
}

/* Light Mode Variables */
html.light {
  --color-background: #f8f8f8;
  --color-foreground: #36454f; /* Dark charcoal */
  --color-header-text: #212121; /* Very dark grey for header title */
}

html.light header a {
  color: #212121 !important; /* A very dark grey for strong contrast, using !important to override Tailwind */
}

/* Set body colors using the new variables */
body {
  background: var(--color-background);
  color: var(--color-foreground);
}

/* Mobile-specific override */
@media (max-width: 768px) {
  /* Dark Mode Shooting Stars */
  body::before,
  body::after,
  .mobile-stars::before,
  .mobile-stars::after,
  .mobile-stars-2::before,
  .mobile-stars-2::after {
    content: "";
    position: fixed;
    width: 2px;
    height: 2px;
    border-radius: 50%;
    pointer-events: none;
    z-index: -1;
    background: rgba(255, 255, 255, 0.9);
    box-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
  }

  /* Light Mode Shooting Stars - Subtly dark and less glowing */
  html.light body::before,
  html.light body::after,
  html.light .mobile-stars::before,
  html.light .mobile-stars::after,
  html.light .mobile-stars-2::before,
  html.light .mobile-stars-2::after {
    background: rgba(0, 0, 0, 0.2);
    box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);
  }

  /* Create additional pseudo-elements using a container */
  body {
    position: relative;
  }

  /* Left to Right - Top */
  body::before {
    animation: shootingStarLR1 12s linear infinite;
  }

  /* Right to Left - Bottom */
  body::after {
    animation: shootingStarRL1 16s linear infinite 4s;
  }

  /* Add more stars using a helper element */
  .mobile-stars::before {
    animation: shootingStarLR2 20s linear infinite 8s;
  }

  .mobile-stars::after {
    animation: shootingStarRL2 14s linear infinite 12s;
  }

  /* Add two more stars using a new helper element */
  .mobile-stars-2::before {
    animation: shootingStarLR3 18s linear infinite 2s;
  }

  .mobile-stars-2::after {
    animation: shootingStarRL3 15s linear infinite 6s;
  }

  @keyframes shootingStarLR1 {
    0%,
    100% {
      top: 15%;
      left: -5%;
      opacity: 0;
    }
    5% {
      opacity: 1;
      box-shadow: -40px -8px 20px rgba(255, 255, 255, 0.3), 0 0 8px white;
    }
    20% {
      top: 35%;
      left: 50%;
      opacity: 1;
      box-shadow: -80px -16px 30px rgba(255, 255, 255, 0.2), 0 0 8px white;
    }
    30% {
      top: 55%;
      left: 105%;
      opacity: 0;
    }
  }

  @keyframes shootingStarRL1 {
    0%,
    100% {
      top: 65%;
      left: 105%;
      opacity: 0;
    }
    8% {
      opacity: 1;
      box-shadow: 50px 10px 22px rgba(255, 255, 255, 0.3), 0 0 8px white;
    }
    25% {
      top: 40%;
      left: 50%;
      opacity: 1;
      box-shadow: 90px 18px 32px rgba(255, 255, 255, 0.2), 0 0 8px white;
    }
    35% {
      top: 15%;
      left: -5%;
      opacity: 0;
    }
  }

  @keyframes shootingStarLR2 {
    0%,
    100% {
      top: 80%;
      left: -5%;
      opacity: 0;
    }
    6% {
      opacity: 0.8;
      box-shadow: -35px -6px 18px rgba(255, 255, 255, 0.25),
        0 0 6px rgba(255, 255, 255, 0.9);
    }
    22% {
      top: 55%;
      left: 50%;
      opacity: 0.8;
      box-shadow: -70px -12px 25px rgba(255, 255, 255, 0.15),
        0 0 6px rgba(255, 255, 255, 0.9);
    }
    32% {
      top: 30%;
      left: 105%;
      opacity: 0;
    }
  }

  @keyframes shootingStarRL2 {
    0%,
    100% {
      top: 25%;
      left: 105%;
      opacity: 0;
    }
    7% {
      opacity: 0.7;
      box-shadow: 45px 8px 20px rgba(255, 255, 255, 0.25),
        0 0 6px rgba(255, 255, 255, 0.8);
    }
    24% {
      top: 50%;
      left: 50%;
      opacity: 0.7;
      box-shadow: 80px 15px 28px rgba(255, 255, 255, 0.15),
        0 0 6px rgba(255, 255, 255, 0.8);
    }
    34% {
      top: 75%;
      left: -5%;
      opacity: 0;
    }
  }

  @keyframes shootingStarLR3 {
    0%,
    100% {
      top: 5%;
      left: -5%;
      opacity: 0;
    }
    10% {
      opacity: 0.9;
      box-shadow: -38px -7px 19px rgba(255, 255, 255, 0.28), 0 0 7px white;
    }
    28% {
      top: 25%;
      left: 60%;
      opacity: 0.9;
      box-shadow: -75px -14px 28px rgba(255, 255, 255, 0.18), 0 0 7px white;
    }
    38% {
      top: 45%;
      left: 105%;
      opacity: 0;
    }
  }

  @keyframes shootingStarRL3 {
    0%,
    100% {
      top: 90%;
      left: 105%;
      opacity: 0;
    }
    9% {
      opacity: 0.85;
      box-shadow: 48px 9px 21px rgba(255, 255, 255, 0.28), 0 0 7px white;
    }
    27% {
      top: 70%;
      left: 45%;
      opacity: 0.85;
      box-shadow: 85px 16px 30px rgba(255, 255, 255, 0.18), 0 0 7px white;
    }
    37% {
      top: 50%;
      left: -5%;
      opacity: 0;
    }
  }

  .spotlight {
    display: none;
  }
}

/* Media defaults */
img,
svg,
video,
canvas,
audio,
iframe {
  display: block;
  max-width: 100%;
  height: auto;
}

/* Links - subtle underline affordance */
a {
  @apply underline-offset-4 decoration-transparent transition;
}
a:hover {
  @apply decoration-current;
}
/* Light Mode Links */
html.light a {
  color: #6c7a89;
}
/* Dark Mode Links */
html.dark a {
  color: #fff;
}

/* Focus-visible for keyboard users */
:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* Respect user motion preferences */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

.spotlight {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  mix-blend-mode: screen;
  opacity: var(--spot-opacity);
  transition: opacity 220ms ease;

  /* compensate blur growth by using a slightly smaller radius (480px instead of 520px) */
  filter: blur(var(--spot-blur));
  background: radial-gradient(
    480px 480px at var(--mx, 50%) var(--my, 30%),
    rgba(255, 255, 255, 0.2),
    rgba(255, 255, 255, 0) 60%
  );
  background-repeat: no-repeat;
}

/* Light Mode Spotlight */
html.light .spotlight {
  opacity: calc(var(--spot-opacity) * 0.4);
  filter: blur(var(--spot-blur));
  background: radial-gradient(
    480px 480px at var(--mx, 50%) var(--my, 30%),
    rgba(0, 0, 0, 0.1),
    rgba(0, 0, 0, 0) 60%
  );
  background-repeat: no-repeat;
}

/* Dark Mode Spotlight */
html.dark .spotlight {
  opacity: calc(var(--spot-opacity) * 0.6);
  filter: blur(var(--spot-blur));
  background: radial-gradient(
    480px 480px at var(--mx, 50%) var(--my, 30%),
    rgba(255, 255, 255, 0.14),
    rgba(255, 255, 255, 0) 60%
  );
  background-repeat: no-repeat;
}

/* reduced-motion: static and lower opacity */
@media (prefers-reduced-motion: reduce) {
  .spotlight {
    transition: none;
    opacity: 0.25;
  }
}

/* Animated underline utility (no reflow) */
.link-underline {
  background: linear-gradient(currentColor, currentColor) 0 100% / 0 2px
    no-repeat;
  transition: background-size 0.26s cubic-bezier(0.2, 0.9, 0.2, 1),
    color 0.18s ease;
  text-decoration: none;
}
.link-underline:hover,
.link-underline:focus {
  background-size: 100% 2px;
  outline: none;
}
.link-underline:focus-visible {
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.12);
  border-radius: 2px;
}
.link-underline-sm {
  background: linear-gradient(currentColor, currentColor) 0 100% / 0 1.5px
    no-repeat;
  transition: background-size 0.22s ease;
}
@media (prefers-reduced-motion: reduce) {
  .link-underline,
  .link-underline-sm {
    transition: none;
  }
}
